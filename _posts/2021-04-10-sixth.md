---
title: "블록체인과 암호기술 1"
date: 2021-04-10
categories: Blockchain
---

[디지털 데이터]
: 블록체인은 검증된 거래를 블록에 담고 이 블록들을 체인으로 연결해 장부를 구성하는 데 이때의 블록이 디지털 데이터를 의미함.
: 복제, 변조, 변경이 굉장히 용이함.
: 비가독성의 특징을 가지고 있음.  
: 원본값과 검증값이 같은 경우 사본도 원본으로 인정하고, 변조되지 않았다는 것을 알 수 있음.
: 전달하는 과정에서 일부의 변조가 일어날 가능성을 검출하기 위해 패킷 정보 뒤에 CRC(FCS) 값을 붙임.

[검증값을 만드는 과정 = 함수]
: 함수의 입력값 = 디지털 데이터, 함수의 출력값 = 검증값
: 함수는 데이터를 축약하고 가공하는 역할을 해야함. 

[해시함수]
: 무결성을 검증할 수 있을 만큼 강력한 검증값을 만들 수 있는 함수
: 검증값은 계산 과정을 통해 입력값을 유추하기에는 어렵도록 길어야 하지만 우리가 다루기에는 비교적 작은 값으로 정의되어야 함.
: 충돌 – 입력은 무한대고 출력은 고정 길이이기 때문에 다른 입력값이 되어도 같은 출력이 되는 상황
: 충돌이 일어나도 다른 입력에 대해 동일한 출력을 내놓는 입력값을 찾기 어렵도록 설계해야 함. 

<center><img width="100%" height="100%" alt="sixth_one" src="https://user-images.githubusercontent.com/47470474/123545167-b1e90400-d791-11eb-84a8-9919ee9e434c.png"></center>

[해시함수 특징 1 – 충돌 저항성]
: Collision Resistance, 동일한 출력값을 내놓은 서로 다른 입력값을 찾는게 어려움.
: 검증값이 x와 x’이면서 둘이 같은 값이라고 했을 때, x로부터 유도되는 해시값과 x’로부터 유도되는 해시값을 찾는 것이 계산적으로 불가능하다

[해시함수 특징 2 – 역상 저항성]
: Preimage Resistance, 출력값에 대응하는 입력을 찾는 것이 어려운 문제
: 주어진 검증값으로부터 대응되는 입력값을 찾는 것이 계산상 불가능하다

[해시함수 특징 3 – 제2역상 저항성]
: Second Preimage Resistance, 
: 입력 x를 함수에 집어넣고 출력 y가 나왔을 때 y를 만들어내는 x가 아닌 x’를 찾는 것이 계산상 불가능하다

[장부의 변조]
1) 검증값 생성 후 장부 뒤에 검증값을 붙여 놓음
2) 내 장부가 변조되었는지 확인하기 위해 장부에 있는 내용을 해시함수에 넣고 출력값과 해시값을 비교함으로써 확인
3) 두 노드의 장부를 비교하고 싶을 때에는 해시값을 주고받아서 비교
 
[머클트리]
: 장부에 적힌 거래에 내 거래가 포함되어 있는 확인하고 싶을 때 
: 전체 내용의 일부분이 무결한지 확인할 때
: 내가 확인하고 싶은 거래에 대한 해시값과 그 트리에서 그와 연접되는 값들만 확인하면 가능

<center><img width="100%" height="100%" alt="sixth_two" src="https://user-images.githubusercontent.com/47470474/123545184-c88f5b00-d791-11eb-8d23-234fcbd7c137.png"></center>

[장부의 위변조]
: 장부는 순서가 바뀌면 안에 있는 정보도 바뀌게 됨.
: 그래서 그 장부마다 앞에 있는 장부에 대한 해시값이 다음 장부에 들어가게 됨.
: 중간에 있는 장부를 바꾸기 위해서는 다음에 있는 장부들도 해시값을 바꿔줘야함.

[블록의 변조를 어렵게 하는 방법]
1. 해시함수의 결과 공개
: 블록의 거래 내용을 바꿔서 변조시키려면 그 많은 사람의 장부를 일일이 바꿔야 함.
2. 블록에 넌스값 넣기
: 넌스 필드 – 값을 계속 변경시키면서 넣을 수 있는 입력 영역
: 넌스 필드가 들어간 이 블록의 값을 해시함수에 넣었을 때 해시 결과는 특정 값보다 작아야 함.
